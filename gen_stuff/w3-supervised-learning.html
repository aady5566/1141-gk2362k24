<!DOCTYPE html>
<html lang="zh-Hant">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ç›£ç£å¼å­¸ç¿’ï¼šå¥åº·é£²é£Ÿç¨½æŸ¥å“¡</title>
    <style>
        :root {
            --bg-color: #F4F2EF;
            --panel-color: #ffffff;
            --primary-text: #5a5a5a;
            --secondary-text: #8c867b;
            --healthy-color: #789678;
            --unhealthy-color: #b47878;
            --border-color: #d1d1c2;
            --restart-btn-color: #78785b;
        }
        body {
            font-family: 'Calibri', 'Noto Sans TC', sans-serif;
            background-color: var(--bg-color);
            color: var(--primary-text);
            margin: 0;
            padding: 15px;
            display: flex;
            flex-direction: column;
            align-items: center;
        }
        .container {
            width: 100%;
            max-width: 900px;
            display: flex;
            flex-direction: column;
            gap: 20px;
        }
        .panel {
            background-color: var(--panel-color);
            border-radius: 12px;
            padding: 20px;
            box-shadow: 0 4px 12px rgba(0,0,0,0.08);
            border: 1px solid var(--border-color);
        }
        header { text-align: center; } /* Make header center-aligned */
        h1, h2 {
            text-align: center;
            margin: 0 0 15px 0;
        }
        h1 { font-size: 2em; color: var(--primary-text); }
        h2 { font-size: 1.5em; color: var(--secondary-text); border-bottom: 2px solid var(--border-color); padding-bottom: 10px;}

        .food-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(100px, 1fr));
            gap: 15px;
            margin-top: 15px;
        }
        .food-item {
            display: flex;
            flex-direction: column;
            align-items: center;
            padding: 10px;
            border-radius: 8px;
            border: 2px solid transparent;
        }
        .food-item .icon { font-size: 4em; }
        .food-item .name { font-weight: bold; margin-top: 5px; }
        .food-item .label {
            font-size: 0.9em;
            font-weight: bold;
            padding: 3px 8px;
            border-radius: 5px;
            color: white;
        }

        .healthy { border-color: var(--healthy-color); background-color: #eaf6ec; }
        .healthy .label { background-color: var(--healthy-color); }

        .unhealthy { border-color: var(--unhealthy-color); background-color: #fbebee; }
        .unhealthy .label { background-color: var(--unhealthy-color); }

        #testing-area .food-item {
            cursor: pointer;
            border: 2px dashed #9fb3c8;
            background-color: #f8fafc;
        }

        .button-container {
            text-align: center;
            margin-top: 20px;
        }
        button {
            font-size: 1.1em;
            padding: 12px 25px;
            border-radius: 8px;
            border: none;
            color: white;
            cursor: pointer;
            transition: transform 0.2s, box-shadow 0.2s;
        }
        button:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 15px rgba(0,0,0,0.1);
        }
        button:disabled {
            cursor: not-allowed;
            opacity: 0.7;
        }
        #btn-healthy { background-color: var(--healthy-color); }
        #btn-unhealthy { background-color: var(--unhealthy-color); margin-left: 15px; }

        /* === NEW STYLE FOR RESTART BUTTON === */
        #restart-btn {
            background-color: var(--restart-btn-color);
            font-size: 1em;
            padding: 10px 20px;
            display: none; /* Hide by default */
            margin: 15px auto 0; /* Center it */
        }

        #feedback {
            text-align: center;
            font-size: 1.2em;
            font-weight: bold;
            margin-top: 20px;
            padding: 15px;
            border-radius: 8px;
            display: none; /* Initially hidden */
        }

        @media (max-width: 600px) {
            h1 { font-size: 1.5em; }
            h2 { font-size: 1.2em; }
            .food-grid { grid-template-columns: repeat(auto-fill, minmax(80px, 1fr)); }
            .food-item .icon { font-size: 3em; }
        }
    </style>
</head>
<body>

<div class="container">
    <header>
        <h1>ç›£ç£å¼å­¸ç¿’ï¼šå¥åº·é£²é£Ÿç¨½æŸ¥å“¡</h1>
        <p style="color: var(--secondary-text);">ä½ çš„ä»»å‹™æ˜¯å­¸ç¿’åˆ†è¾¨é£Ÿç‰©çš„é¡åˆ¥ï¼Œä¸¦å°æ–°é£Ÿç‰©åšå‡ºæ­£ç¢ºçš„åˆ†é¡åˆ¤æ–·ã€‚</p>

    </header>

    <div class="panel" id="training-area">
        <h2>ç¬¬ä¸€æ­¥ï¼šè¨“ç·´ AI (å­¸ç¿’æ¨™ç±¤)</h2>
        <p>é€™æ˜¯æˆ‘å€‘çš„è¨“ç·´è³‡æ–™åº«ã€‚AI æœƒå¾é€™äº›æœ‰æ˜ç¢ºæ¨™ç±¤ï¼ˆå¥åº·ï¼ä¸å¥åº·ï¼‰çš„ç¯„ä¾‹ä¸­å­¸ç¿’è¦å¾‹ã€‚</p>
        <div class="food-grid" id="training-grid">
            </div>
    </div>

    <div class="panel" id="testing-area">
        <h2>ç¬¬äºŒæ­¥ï¼šé æ¸¬ (åˆ†é¡æ–°é£Ÿç‰©)</h2>
        <p>è¨“ç·´å®Œæˆï¼ç¾åœ¨ï¼Œè«‹æ ¹æ“šå­¸åˆ°çš„çŸ¥è­˜ï¼Œå°ä¸‹é¢é€™å€‹ã€Œæœªæ¨™ç±¤ã€çš„é£Ÿç‰©é€²è¡Œåˆ†é¡ï¼š</p>
        <div class="food-grid" id="testing-grid">
            </div>
        <div class="button-container">
            <button id="btn-healthy">æ­¸é¡ç‚ºã€Œå¥åº·ã€</button>
            <button id="btn-unhealthy">æ­¸é¡ç‚ºã€Œä¸å¥åº·ã€</button>
        </div>
        <div id="feedback"></div>
        <button id="restart-btn">é‡æ–°é–‹å§‹ä¸€å±€</button>
    </div>
</div>

<script>
    const foodDatabase = [
        { name: 'è˜‹æœ', icon: 'ğŸ', isHealthy: true, reason: 'å¯Œå«çº–ç¶­å’Œç¶­ç”Ÿç´ ã€‚' },
        { name: 'æŠ«è–©', icon: 'ğŸ•', isHealthy: false, reason: 'é€šå¸¸é«˜æ²¹ã€é«˜é¹½ã€‚' },
        { name: 'ç¶ èŠ±æ¤°', icon: 'ğŸ¥¦', isHealthy: true, reason: 'æ˜¯ç‡Ÿé¤Šè±å¯Œçš„è”¬èœã€‚' },
        { name: 'ç”œç”œåœˆ', icon: 'ğŸ©', isHealthy: false, reason: 'é«˜ç³–ã€é«˜è„‚è‚ªçš„é»å¿ƒã€‚' },
        { name: 'èƒ¡è˜¿è””', icon: 'ğŸ¥•', isHealthy: true, reason: 'å¯Œå« Î²-èƒ¡è˜¿è””ç´ ã€‚' },
        { name: 'è–¯æ¢', icon: 'ğŸŸ', isHealthy: false, reason: 'æ²¹ç‚¸é£Ÿå“ï¼Œç†±é‡é«˜ã€‚' },
        { name: 'é¦™è•‰', icon: 'ğŸŒ', isHealthy: true, reason: 'æä¾›é‰€å’Œèƒ½é‡ã€‚'},
        { name: 'æ±½æ°´', icon: 'ğŸ¥¤', isHealthy: false, reason: 'å«ç³–é‡éå¸¸é«˜ã€‚'}
    ];

    const trainingGrid = document.getElementById('training-grid');
    const testingGrid = document.getElementById('testing-grid');
    const btnHealthy = document.getElementById('btn-healthy');
    const btnUnhealthy = document.getElementById('btn-unhealthy');
    const feedbackEl = document.getElementById('feedback');
    const restartBtn = document.getElementById('restart-btn');

    let currentTestItem = null;

    function createFoodItemHTML(food, showLabel) {
        const type = food.isHealthy ? 'healthy' : 'unhealthy';
        return `
            <div class="food-item ${showLabel ? type : ''}">
                <div class="icon">${food.icon}</div>
                <div class="name">${food.name}</div>
                ${showLabel ? `<div class="label">${food.isHealthy ? 'å¥åº·' : 'ä¸å¥åº·'}</div>` : ''}
            </div>
        `;
    }

    function initialize() {
        // éš¨æ©Ÿé¸æ“‡è¨“ç·´å’Œæ¸¬è©¦é …ç›®
        const shuffled = [...foodDatabase].sort(() => 0.5 - Math.random());
        const trainingItems = shuffled.slice(0, 6);
        currentTestItem = shuffled[6];

        // 1. æ¸²æŸ“è¨“ç·´å€
        trainingGrid.innerHTML = trainingItems.map(food => createFoodItemHTML(food, true)).join('');

        // 2. æ¸²æŸ“æ¸¬è©¦å€
        testingGrid.innerHTML = createFoodItemHTML(currentTestItem, false);

        // 3. é‡ç½®å›é¥‹å’ŒæŒ‰éˆ•
        feedbackEl.style.display = 'none';
        restartBtn.style.display = 'none';
        btnHealthy.disabled = false;
        btnUnhealthy.disabled = false;
    }

    function checkAnswer(userChoiceIsHealthy) {
        btnHealthy.disabled = true;
        btnUnhealthy.disabled = true;

        const isCorrect = (userChoiceIsHealthy === currentTestItem.isHealthy);

        feedbackEl.style.display = 'block';
        restartBtn.style.display = 'block';

        if (isCorrect) {
            feedbackEl.textContent = `æ­£ç¢ºï¼AI åˆ¤æ–· ${currentTestItem.name} æ˜¯ ${currentTestItem.isHealthy ? 'å¥åº·' : 'ä¸å¥åº·'} çš„ï¼Œå› ç‚ºå®ƒ ${currentTestItem.reason} é€™å°±æ˜¯ç›£ç£å¼å­¸ç¿’ï¼šæ ¹æ“šå·²çŸ¥çš„æ¨™ç±¤åšå‡ºæº–ç¢ºé æ¸¬ã€‚`;
            feedbackEl.style.color = '#155724';
            feedbackEl.style.backgroundColor = '#d4edda';
            feedbackEl.style.borderColor = '#c3e6cb';
        } else {
            feedbackEl.textContent = `éŒ¯èª¤ï¼AI æ ¹æ“šè¨“ç·´è³‡æ–™åˆ¤æ–·ï¼Œ${currentTestItem.name} æ‡‰è©²æ˜¯ ${currentTestItem.isHealthy ? 'å¥åº·' : 'ä¸å¥åº·'} çš„ï¼Œå› ç‚ºå®ƒ ${currentTestItem.reason} æ¨¡å‹éœ€è¦æ›´å¤šã€æ›´å¥½çš„æ¨™ç±¤æ•¸æ“šä¾†å­¸ç¿’ã€‚`;
            feedbackEl.style.color = '#721c24';
            feedbackEl.style.backgroundColor = '#f8d7da';
            feedbackEl.style.borderColor = '#f5c6cb';
        }
    }

    btnHealthy.addEventListener('click', () => checkAnswer(true));
    btnUnhealthy.addEventListener('click', () => checkAnswer(false));
    restartBtn.addEventListener('click', initialize);

    // åˆå§‹å•Ÿå‹•
    initialize();
</script>

</body>
</html>