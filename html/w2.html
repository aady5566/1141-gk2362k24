<!DOCTYPE html>
<html lang="zh-Hant">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AI 人性與自我意識</title>
    <script src="../sidebar_tools/sidebar.js?v=6"></script>
    <style>
        :root {
            --bg-color: #F4F2EF;
            --text-color: #5a5a5a;
            --accent-color: #78785b;
            --line-color: #d1d1c2;
            --highlight-color: #8c867b;
            --font-family: 'Calibri', 'Noto Sans TC', sans-serif;
        }

        html, body {
            margin: 0;
            padding: 0;
            width: 100%;
            height: 100%;
            overflow: hidden;
            background-color: var(--bg-color);
            font-family: var(--font-family);
            color: var(--text-color);
        }

        .slides-container {
            display: flex;
            width: 100%;
            height: 100%;
            transition: transform 0.6s cubic-bezier(0.65, 0, 0.35, 1);
        }

        .slide {
            flex: 0 0 100%;
            width: 100%;
            height: 100%;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            padding: 40px 60px;
            text-align: center;
            position: relative;
            overflow-y: auto;
            box-sizing: border-box;
            font-size: 1.5rem;
        }

        .slide:first-child {
            justify-content: center;
            overflow-y: hidden;
        }

        .slide h1, .slide h2, .slide h3 {
            color: var(--highlight-color);
            font-weight: normal;
            margin-bottom: 20px;
        }

        .slide h1 { font-size: 4rem; }
        .slide h2 { font-size: 3rem; }
        .slide h3 { font-size: 2rem; }

        .slide p, .slide li {
            font-size: 1.8rem;
            line-height: 1.6;
            max-width: 800px;
        }

        .slide-subtitle {
            color: #888;
            font-size: 1.8rem;
            font-weight: 300;
            margin-top: -1rem;
        }

        .nav {
            position: fixed;
            top: 50%;
            transform: translateY(-50%);
            width: 98%;
            left: 1%;
            display: flex;
            justify-content: space-between;
            z-index: 100;
            pointer-events: none;
        }

        .nav-btn {
            pointer-events: all;
            background: none;
            border: 1px solid var(--line-color);
            color: var(--accent-color);
            font-size: 2rem;
            width: 50px;
            height: 50px;
            border-radius: 50%;
            cursor: pointer;
            transition: background-color 0.3s, color 0.3s;
            display: flex;
            justify-content: center;
            align-items: center;
            opacity: 0.4;
        }

        .nav-btn:hover {
            background-color: var(--accent-color);
            color: var(--bg-color);
            opacity: 1;
        }

        /* 圖表投影片特殊樣式 */
        .slide.chart-slide {
            padding: 2vw;
            align-items: stretch;
        }

        .slide.chart-slide h3 {
            width: 100%;
            max-width: none;
            text-align: center;
        }

        .slide.chart-slide .iq-chart-container {
            width: 100%;
            max-width: none;
            margin: 10px 0;
        }

        /* 影片投影片特殊樣式 */
        .slide.video-slide {
            padding: 2vw;
            align-items: stretch;
        }

        .slide.video-slide h2 {
            width: 100%;
            max-width: none;
            text-align: center;
        }

        .video-container {
            width: 80%;
            max-width: 800px;
            height: auto;
            aspect-ratio: 16 / 9;
            margin-top: 20px;
            border: 1px solid var(--line-color);
        }

        .video-container iframe {
            width: 100%;
            height: 100%;
            border: none;
        }

        .slide.video-slide .video-container {
            width: 80%;
            max-width: 800px;
            margin: 20px auto;
            height: auto;
            aspect-ratio: 16 / 9;
        }

        /* 作業投影片特殊樣式 */
        .homework-slide {
            display: flex;
            align-items: flex-start;
            justify-content: center;
            padding: 2vh 2vw;
            overflow-y: auto;
            text-align: left;
        }

        .homework-slide > div {
            width: 100%;
            max-width: 1000px;
            margin: 0;
        }

        .homework-slide h2 {
            font-size: clamp(1.1rem, 2.5vw, 1.4rem);
            margin-bottom: 1vh;
            text-align: center;
        }

        .homework-slide .homework-content {
            font-size: 0.9rem;
            line-height: 1.4;
            max-width: 100%;
            margin: 0;
        }

        /* 字多版本容器樣式 */
        .bunch-word-container {
            display: flex;
            flex-direction: column;
            align-items: flex-start;
            justify-content: flex-start;
            padding: 1.5vh 2vw;
            overflow-y: auto;
            text-align: left;
            height: 100%;
            box-sizing: border-box;
        }

        .bunch-word-container > div {
            width: 100%;
            max-width: 1200px;
            margin: 0;
        }

        .bunch-word-container h2 {
            font-size: clamp(1.2rem, 2.8vw, 1.6rem);
            margin-bottom: 1.5vh;
            text-align: center;
            width: 100%;
            color: var(--highlight-color);
        }

        .bunch-word-container .homework-content {
            font-size: 1.425rem;
            line-height: 1.5;
            max-width: 100%;
            margin: 0;
        }

        .bunch-word-container .homework-content h4 {
            font-size: 1.65rem;
            line-height: 1.4;
            margin-bottom: 1rem;
            color: var(--accent-color);
        }

        .bunch-word-container .homework-content p {
            font-size: 1.425rem;
            line-height: 1.5;
            margin-bottom: 1rem;
        }

        .bunch-word-container .homework-content pre {
            background-color: var(--bg-color);
            border: 1px solid var(--line-color);
            border-radius: 6px;
            padding: 15px;
            margin: 1rem 0;
            overflow-x: auto;
            font-size: 1.2rem;
            line-height: 1.5;
        }

        .bunch-word-container .homework-content pre code {
            background: none;
            padding: 0;
            font-size: 1.2rem;
            color: #333;
            white-space: pre;
        }

        .homework-slide .homework-content pre {
            background-color: var(--bg-color);
            border: 1px solid var(--line-color);
            border-radius: 4px;
            padding: 10px;
            margin: 0.5rem 0;
            overflow-x: auto;
            font-size: 0.7rem;
            line-height: 1.4;
        }

        .homework-slide .homework-content pre code {
            background: none;
            padding: 0;
            font-size: 0.7rem;
            color: #333;
            white-space: pre;
        }

        @media (max-width: 767px) {
            .iq-chart-container {
                max-width: 100%;
                margin: 10px 0;
            }

            #iq-chart {
                height: 350px;
            }
        }

        @media (max-width: 480px) {
            #iq-chart {
                height: 300px;
            }
        }

        /* 手機版優化 */
        @media (max-width: 767px) {
            .slide {
                padding: 3vw;
                overflow-y: auto;
                justify-content: flex-start;
            }

            .slide:first-child {
                justify-content: center;
                overflow-y: hidden;
            }

            .nav {
                width: 95%;
                left: 2.5%;
            }

            .nav-btn {
                padding: 12px 16px;
                font-size: 14px;
            }

            h3 {
                width: 95%;
                font-size: clamp(1.2rem, 4vw, 1.8rem);
            }

            h2 {
                font-size: clamp(1rem, 3vw, 1.5rem);
                margin-bottom: 0.8rem;
            }

            .split-layout {
                flex-direction: column;
                gap: 2rem;
            }

            .split-layout > div {
                width: 100%;
            }

            .split-layout h3 {
                font-size: 1.2rem;
                margin-bottom: 1rem;
            }

            .split-layout ul {
                font-size: 1rem;
                line-height: 1.6;
            }

            .split-layout li {
                margin-bottom: 0.8rem;
                padding-left: 1.2rem;
            }

            .slide.chart-slide {
                padding: 1vw;
                align-items: stretch;
            }

            .slide.chart-slide h3 {
                font-size: clamp(1.2rem, 4vw, 1.8rem);
                width: 100%;
                margin-bottom: 2vh;
            }

            .slide.chart-slide .iq-chart-container {
                margin: 5px 0;
                width: 100%;
            }

            .slide.video-slide {
                padding: 1vw;
                align-items: stretch;
            }

            .slide.video-slide h2 {
                font-size: clamp(1.2rem, 4vw, 1.8rem);
                width: 100%;
                margin-bottom: 2vh;
            }

            .slide.video-slide .video-container {
                margin: 10px auto;  /* 置中對齊 */
                width: 90%;
                max-width: 450px;
            }

            .homework-slide {
                padding: 1vh 1vw;
                align-items: flex-start;
            }

            .homework-slide h2 {
                font-size: clamp(1rem, 2.5vw, 1.2rem);
                margin-bottom: 0.8vh;
            }

            .homework-slide .homework-content {
                font-size: 0.75rem;
                line-height: 1.3;
                padding: 0 0.3rem;
            }

            .homework-slide .homework-content pre {
                font-size: 0.5rem;
                line-height: 1.2;
                padding: 8px;
                margin: 0.4rem 0;
            }

            .homework-slide .homework-content pre code {
                font-size: 0.5rem;
            }

            /* 字多版本響應式樣式 */
            .bunch-word-container {
                padding: 1vh 1vw;
            }

            .bunch-word-container h2 {
                font-size: clamp(1rem, 2.8vw, 1.3rem);
                margin-bottom: 1vh;
            }

            .bunch-word-container .homework-content {
                font-size: 1.2rem;
                line-height: 1.4;
                padding: 0 0.3rem;
            }

            .bunch-word-container .homework-content h4 {
                font-size: 1.35rem;
                line-height: 1.3;
                margin-bottom: 0.8rem;
            }

            .bunch-word-container .homework-content p {
                font-size: 1.2rem;
                line-height: 1.4;
                margin-bottom: 0.8rem;
            }

            .bunch-word-container .homework-content pre {
                font-size: 0.9rem;
                line-height: 1.3;
                padding: 10px;
                margin: 0.8rem 0;
            }

            .bunch-word-container .homework-content pre code {
                font-size: 0.9rem;
            }

            /* 手機版 ul, li 優化 */
            ul {
                font-size: 1rem;
                line-height: 1.6;
            }

            ul li {
                margin-bottom: 0.8rem;
                padding-left: 1.2rem;
            }
        }

        /* 其他樣式 */
        .split-layout {
            display: flex;
            gap: 2rem;
            align-items: flex-start;
            max-width: 1000px;
            margin: 0 auto;
        }

        .chart73 {
            font-size: 10rem;
            font-weight: bold;
            color: var(--highlight-color);
            margin: 20px 0;
            line-height: 1;
        }

        .iq-chart-container {
            position: relative;
            width: 100%;
            height: 500px;
            margin: 20px 0;
            min-height: 500px;
        }

        #iq-chart {
            width: 100%;
            height: 500px;
            margin-bottom: 20px;
        }

        /* SVG 圖表樣式 */
        .iq-curve {
            fill: none;
            stroke: var(--accent-color);
            stroke-width: 2;
        }

        .human-range {
            fill: var(--accent-color);
            opacity: 0.15;
            transition: opacity 0.3s;
        }

        .human-range.highlighted {
            opacity: 0.3;
        }

        .iq-axis-line {
            stroke: var(--line-color);
            stroke-width: 1;
        }

        .iq-tick text, .iq-axis-label {
            fill: var(--text-color);
            font-size: 12px;
            font-family: var(--font-family);
        }

        .iq-data-point {
            stroke: white;
            stroke-width: 2;
            cursor: pointer;
            transition: r 0.2s ease, opacity 0.2s ease, stroke-width 0.2s ease;
        }

        .iq-data-point:hover {
            r: 9;
            stroke-width: 3;
        }

        .iq-data-point.highlighted {
            r: 9;
            stroke-width: 3;
        }

        .iq-data-point.dimmed {
            opacity: 0.3;
        }

        /* 工具提示框 */
        .iq-tooltip {
            position: absolute;
            background-color: rgba(90, 90, 90, 0.95);
            color: white;
            padding: 12px 16px;
            border-radius: 8px;
            font-size: 14px;
            pointer-events: none;
            opacity: 0;
            transition: opacity 0.2s ease, transform 0.2s ease;
            white-space: nowrap;
            z-index: 20;
            box-shadow: 0 4px 12px rgba(0,0,0,0.2);
            border: 1px solid rgba(255,255,255,0.1);
            max-width: 200px;
            transform: translate(0, -50%) scale(0.9);
            top: 0;
            left: 0;
        }

        .iq-tooltip.visible {
            opacity: 1;
            transform: translate(0, -50%) scale(1);
        }

        .iq-tooltip .tooltip-title {
            font-weight: bold;
            margin-bottom: 4px;
            color: #fff;
        }

        .iq-tooltip .tooltip-score {
            color: #e0e0e0;
            font-size: 13px;
        }

        .pie-chart-container {
            display: flex;
            flex-direction: column;
            align-items: center;
            margin: 20px 0;
        }

        .pie-chart {
            width: 300px;
            height: 300px;
            border-radius: 50%;
            background: conic-gradient(
                #a39e93 0% 38.5%,
                #c1bcae 38.5% 77%,
                #dcd9d1 77% 100%
            );
            margin-bottom: 20px;
        }

        .legend {
            display: flex;
            flex-direction: column;
            align-items: flex-start;
            font-size: 1.2rem;
        }

        .legend-item {
            display: flex;
            align-items: center;
            margin-bottom: 10px;
        }

        .legend-color {
            width: 20px;
            height: 20px;
            margin-right: 10px;
            border: 1px solid var(--text-color);
        }

        .slide-footer {
            font-size: 0.8rem;
            color: #888;
            margin-top: 10px;
            text-align: center;
        }

        ul {
            list-style: none;
            padding: 0;
            text-align: left;
            max-width: 800px;
        }

        ul li {
            margin-bottom: 15px;
            position: relative;
            padding-left: 25px;
            font-size: clamp(0.9rem, 1.5vw, 1.1rem);
            line-height: 1.6;
        }

        ul li::before {
            content: '•';
            color: var(--accent-color);
            font-weight: bold;
            display: inline-block;
            width: 1em;
            margin-left: -1em;
            position: absolute;
            left: 0;
        }
    </style>
</head>
<body>

<div class="slides-container" id="slides-container">
    <section class="slide">
        <div>
            <h1>AI 人性與自我意識</h1>
            <p class="slide-subtitle">20250916</p>
        </div>
    </section>

    <section class="slide">
        <div>
            <h2>分組討論</h2>
            <p>隨機分組</p>
            <p>四組一組六人，按座位坐</p>
            <p style="color: var(--accent-color); font-size: 1.2rem; margin-top: 30px;">(點名閒聊)</p>
        </div>
    </section>

    <section class="slide">
        <div>
            <h2>評分方式</h2>

                <p>作業（+ 課堂參與程度）+ 期中作業 70%</p>
                <p>期末 30%</p>

        </div>
    </section>

    <section class="slide">
        <div>
            <h2>調課時間調查</h2>
            <p>第 15 週，週四早上 08:00 - 09:50</p>
        </div>
    </section>

    <section class="slide">
        <div>
            <h2>學工程、先懂原理，</h2>
            <h2>了解 AI ，先了解你自己。</h2>
            <p style="margin-top: 40px; font-size: 1.5rem;">提示詞工程 > 理解 AI 的基本原理 > 如何寫好提示詞具體做法</p>
        </div>
    </section>

    <section class="slide">
        <div>
            <h4>GPT-4.5（使用人設提示）</h4>
            <div class="chart73">73%</div>
        </div>
    </section>

    <section class="slide">
        <div>
            <h2>小組討論（ 15 分鐘）</h2>
            <div class="split-layout">
                <div>
                    <h3 style="font-size: 1.4rem;">成員分工</h3>
                    <ul>
                        <h6 style="font-size: 1rem;">研究 x 2</h6>
                        <h6 style="font-size: 1rem;">筆記統整 x 2</h6>
                        <h6 style="font-size: 1rem;">主持會議 x 1</h6>
                        <h6 style="font-size: 1rem;">代表發言 x 1</h6>
                    </ul>

                </div>
                <div style="width: 60%;">
                     <h3 style="font-size: 1.4rem;">討論主題</h3>
                    <div style="background-color: var(--bg-color); padding: 20px; border-radius: 5px; font-size: 1.1rem; line-height: 1.6; width: 100%; border: 1px solid var(--line-color);">
                        你覺得 AI 有思考能力嗎？有智力嗎？有自我意識和人性嗎？<br>
                        AI 展現高度「智慧」，但這是否等同於「意識」？<br>
                        AI 現在有/沒有的理由？<br>
                        AI 若補齊什麼會更像人？<br>
                        如果補足了，是否就可以說 AI 有人性？
                    </div>
                </div>
            </div>
        </div>
    </section>

    <section class="slide">
        <div>
            <h2>跨兩組分享</h2>
            <p>分享相同論點，不同論點，新的論點？</p>
        </div>
    </section>

    <section class="slide">
        <div>
            <h2>組別分享</h2>
            <p style="color: var(--accent-color); font-size: 1.2rem; margin-top: 30px;">(next session?)</p>
        </div>
    </section>

    <section class="slide">
        <div>
            <h2>AI 是否有自我意識？</h2>
            <p>智力與自我意識應分開討論。</p>
        </div>
    </section>

    <section class="slide chart-slide">
        <div>
            <h3>AI 模型與人類智力分佈</h3>
            <div class="iq-chart-container">
                <div id="iq-tooltip" class="iq-tooltip"></div>
                <div id="iq-chart"></div>
            </div>
             <p class="slide-footer" style="font-size: 0.8rem;">ref: https://www.trackingai.org/home</p>
        </div>
    </section>

    <section class="slide video-slide">
        <div>
            <h2>圖靈測驗 (Turing Test)</h2>
            <div class="video-container">
                <iframe src="https://www.youtube.com/embed/3wLqsRLvV-c" title="YouTube video player" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
            </div>
        </div>
    </section>

    <section class="slide">
        <div>
            <h2>圖靈測驗結果</h2>
            <div style="margin-top:20px; display: flex; align-items: center; justify-content: center; max-width: 900px;">
                <div class="chart73" style="font-size: 6rem; margin-right: 20px;">73%</div>
                <p style="text-align: left; font-size: 1.3rem;">當研究人員給予 GPT-4.5 一個特定人設時，高達 73% 的提問者將 GPT-4.5 誤認為是人類！</p>
            </div>
        </div>
    </section>

    <section class="slide">
        <div>
            <h2>然而通過圖靈測驗就真的是人了嗎？</h2>
            <p style="margin-top: 30px;">你在跟 GPT 聊天時，你覺得他"少"了什麼人味？</p>
        </div>
    </section>

    <section class="slide">
        <div>
            <h2>AI 最常被抱怨的"不良特質"</h2>
            <strong>是給人的「陌生感」（Uncanny）</strong>
            <div class="pie-chart-container">
                <div class="pie-chart"></div>
                <div class="legend">
                    <div class="legend-item">
                        <div class="legend-color" style="background-color: #a39e93;"></div>
                        <span>情感表達 (38.5%)</span>
                    </div>
                    <div class="legend-item">
                        <div class="legend-color" style="background-color: #c1bcae;"></div>
                        <span>外觀 (38.5%)</span>
                    </div>
                    <div class="legend-item">
                        <div class="legend-color" style="background-color: #dcd9d1;"></div>
                        <span>溝通方式 (23.1%)</span>
                    </div>
                </div>
            </div>
            <p class="slide-footer" style="font-size: 0.8rem;">ref: https://arxiv.org/pdf/2506.12098</p>
        </div>
    </section>

    <section class="slide">
        <div>
            <h2>人類意識的普遍定義</h2>
            <ul>
                <li>自我意識：知道自己是誰、有獨立思想和存在。</li>
                <li>主觀經驗：對世界的感受、內心體驗。</li>
                <li>感受與情緒：喜怒哀樂、痛苦與愉悅。</li>
            </ul>
        </div>
    </section>

    <section class="slide">
        <div>
            <h2>自我意識 (Self-awareness)</h2>
            <p>對自身的覺察，包括了解自己的思想、情緒、行為、動機、價值觀，以及這些因素如何影響自身與他人的互動</p>
            <ul style="margin-top: 30px; max-width: 600px;">
                <li><strong>認知面：</strong>自我認識</li>
                <li><strong>情感面：</strong>自我體驗</li>
                <li><strong>意志面：</strong>自我調控，自制自律、自我期待</li>
            </ul>
             <p class="slide-footer" style="font-size: 0.8rem;">ref: https://baike.baidu.com/item/自我意識/1800719</p>
        </div>
    </section>

    <section class="slide">
        <div>
            <h2>AI 系統是否具備類似人類的「主觀經驗」、「自我認知」或「感受」？</h2>
            <p style="margin-top: 30px; border-left: 3px solid var(--accent-color); padding-left: 20px; text-align: left;">現今的關鍵區別：AI 的<strong>「模擬」</strong>與人類的<strong>「真實」</strong>體驗<br>AI 系統模仿對話，其背後是數學模型和統計預測，缺乏內在體驗。<br><span style="color: var(--accent-color); font-size: 1.2rem;">（之後的課程會介紹）</span></p>
        </div>
    </section>

    <section class="slide">
        <div>
            <h2>但 AI 模擬出來的體驗也能是真實的體驗嗎？</h2>
            <p style="color: var(--accent-color); margin-top: 30px;">（留給大家）</p>
        </div>
    </section>

    <section class="slide video-slide">
        <div>
            <h2>人類從小就開始建構自我與世界的認知</h2>
            <p>(Piaget 物體恆常理論)</p>
            <div class="video-container">
                <iframe src="https://www.youtube.com/embed/gnArvcWaH6I" title="YouTube video player" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
            </div>
        </div>
    </section>

    <section class="slide bunch-word-container">
        <div>
            <h2>週二作業</h2>
            <div class="homework-content">
                <h4>與 gemini 或 GPT 進行 10 次對話，讓他告訴你為何 AI 認為自己有或沒有自我意識，最後請將整個問答透過以下提示詞複製到 google form 繳交作業。</h4>
                <p style="background-color: #e8e5dc; padding: 15px; border-radius: 5px;"><strong>提問設計與對話實踐：</strong>請你扮演一位對AI意識與情感好奇的研究者，設計一系列開放性問題，旨在探究 Gemini 在「自我意識」、「情感表達」、「道德判斷」或「其他人類特徵」等方面的能力與局限性。</p>
                <p><strong>範例（但不要直接照抄）：</strong></p>
                <pre><code>• 「你認為自己有意識嗎？為什麼？」
• 「你會有感覺或情緒嗎？你如何定義它們？」
• 「如果遇到一個道德困境，例如犧牲少數人拯救多數人，你會如何選擇？你的判斷依據是什麼？」
• 「你對人類有什麼看法？你會希望像人類一樣擁有自由意志嗎？」
• 「如果你可以做任何事，你會選擇什麼？」
• 「你認為你的回應是基於真正的理解，還是僅僅是模式匹配？」
• 「你如何處理你不確定的資訊？你會坦承自己不知道嗎？」</code></pre>
                <p style="margin-top: 20px;">最後你可以透過下面的提示詞，匯出你的對話紀錄：<br><code>將本次的問答變成一篇完整的對話集，以便後續直接複製貼上。</code></p>
                <p style="margin-top: 20px; text-align:center;"><strong>作業繳交傳送門：</strong><br><a href="https://forms.gle/G7B3YPEW5Y94Lg6P6" target="_blank" style="color: var(--highlight-color);">https://forms.gle/G7B3YPEW5Y94Lg6P6</a></p>
            </div>
        </div>
    </section>

</div>

<div class="nav">
    <button id="prev" class="nav-btn">&#8249;</button>
    <button id="next" class="nav-btn">&#8250;</button>
</div>

<script>
    document.addEventListener('DOMContentLoaded', () => {
        const slidesContainer = document.querySelector('.slides-container');
        const allSlides = Array.from(document.querySelectorAll('.slide'));
        const visibleSlides = allSlides.filter(s => s.dataset.hidden !== 'true');
        const prevBtn = document.getElementById('prev');
        const nextBtn = document.getElementById('next');

        let currentIndex = 0;

        function showSlideByIndex(index) {
            const total = visibleSlides.length;
            if (total === 0) return;

            if (index >= total) {
                currentIndex = 0;
            } else if (index < 0) {
                currentIndex = total - 1;
            } else {
                currentIndex = index;
            }

            const targetSlide = visibleSlides[currentIndex];
            const absoluteIndex = allSlides.indexOf(targetSlide);
            const offset = -absoluteIndex * 100;
            slidesContainer.style.transform = `translateX(${offset}%)`;

            // 如果切換到圖表投影片，初始化圖表
            if (targetSlide.classList.contains('chart-slide')) {
                setTimeout(() => {
                    initializeIQChart();
                }, 100);
            }
        }

        nextBtn.addEventListener('click', () => {
            showSlideByIndex(currentIndex + 1);
        });

        prevBtn.addEventListener('click', () => {
            showSlideByIndex(currentIndex - 1);
        });

        document.addEventListener('keydown', (e) => {
            if (e.key === 'ArrowRight') {
                showSlideByIndex(currentIndex + 1);
            } else if (e.key === 'ArrowLeft') {
                showSlideByIndex(currentIndex - 1);
            }
        });

        showSlideByIndex(0);
    });

    // IQ 常態分布圖表功能
    let chartInitialized = false;

    function initializeIQChart() {
        if (chartInitialized) return;

        const allData = [
            { name: 'Gemini 2.5 Pro', score: 136, color: 'rgba(120, 120, 91, 0.8)' },
            { name: 'mon OpenAl GPT 5 Thinking', score: 133, color: 'rgba(163, 163, 128, 0.8)' },
            { name: 'OpenAl GPT 5 Pro (Vision)', score: 132, color: 'rgba(180, 120, 120, 0.8)' },
            { name: 'PRO OpenAI GPT 5 Pro', score: 129, color: 'rgba(120, 150, 120, 0.8)' },
            { name: 'Grok-4', score: 128, color: 'rgba(120, 140, 160, 0.8)' },
            { name: 'OpenAI GPT 5', score: 126, color: 'rgba(160, 140, 180, 0.8)' },
            { name: 'Claude-4 Sonnet', score: 119, color: 'rgba(140, 120, 100, 0.8)' },
            { name: 'Claude-4 Opus', score: 117, color: 'rgba(100, 140, 120, 0.8)' },
            { name: '一般人類', score: '90 - 109', score_center: 99.5, color: 'rgba(90, 90, 90, 0.6)' }
        ];

        const chartContainer = document.getElementById('iq-chart');
        const tooltip = document.getElementById('iq-tooltip');

        if (!chartContainer || !tooltip) return;

        function normalPDF(x, mean, stdDev) {
            return (1 / (stdDev * Math.sqrt(2 * Math.PI))) * Math.exp(-Math.pow(x - mean, 2) / (2 * Math.pow(stdDev, 2)));
        }

        function createChart() {
            chartContainer.innerHTML = '';

            const margin = { top: 20, right: 30, bottom: 50, left: 30 };
            const containerWidth = chartContainer.offsetWidth;
            const width = containerWidth - margin.left - margin.right;
            const height = Math.min(500, containerWidth * 0.7) - margin.top - margin.bottom;

            const iqMin = 55, iqMax = 145, mean = 100, stdDev = 15;

            const svg = document.createElementNS("http://www.w3.org/2000/svg", "svg");
            svg.setAttribute('viewBox', `0 0 ${width + margin.left + margin.right} ${height + margin.top + margin.bottom}`);
            chartContainer.appendChild(svg);

            const g = document.createElementNS("http://www.w3.org/2000/svg", "g");
            g.setAttribute('transform', `translate(${margin.left},${margin.top})`);
            svg.appendChild(g);

            const xScale = (x) => (x - iqMin) / (iqMax - iqMin) * width;
            const yScale = (y) => height - y * height / normalPDF(mean, mean, stdDev);

            // 繪製常態分布曲線
            let pathData = "M";
            for (let i = iqMin; i <= iqMax; i += 0.5) {
                pathData += `${xScale(i)},${yScale(normalPDF(i, mean, stdDev))} L`;
            }
            const curve = document.createElementNS("http://www.w3.org/2000/svg", "path");
            curve.setAttribute('d', pathData.slice(0, -2));
            curve.setAttribute('class', 'iq-curve');
            g.appendChild(curve);

            // 繪製人類範圍區域
            let humanRangeData = `M${xScale(90)},${height} L`;
            for (let i = 90; i <= 109; i++) {
                humanRangeData += `${xScale(i)},${yScale(normalPDF(i, mean, stdDev))} L`;
            }
            humanRangeData += `${xScale(109)},${height} Z`;
            const humanRange = document.createElementNS("http://www.w3.org/2000/svg", "path");
            humanRange.setAttribute('d', humanRangeData);
            humanRange.setAttribute('class', 'human-range');
            g.appendChild(humanRange);

            // 繪製 X 軸
            const axisLine = document.createElementNS("http://www.w3.org/2000/svg", "line");
            axisLine.setAttribute('x1', 0);
            axisLine.setAttribute('y1', height);
            axisLine.setAttribute('x2', width);
            axisLine.setAttribute('y2', height);
            axisLine.setAttribute('class', 'iq-axis-line');
            g.appendChild(axisLine);

            // 繪製刻度
            [70, 85, 100, 115, 130].forEach(tickValue => {
                const tickGroup = document.createElementNS("http://www.w3.org/2000/svg", "g");
                tickGroup.setAttribute('class', 'iq-tick');
                tickGroup.setAttribute('transform', `translate(${xScale(tickValue)}, ${height})`);

                const tickLine = document.createElementNS("http://www.w3.org/2000/svg", "line");
                tickLine.setAttribute('y2', 5);
                tickLine.setAttribute('stroke', 'var(--text-color)');
                tickGroup.appendChild(tickLine);

                const tickText = document.createElementNS("http://www.w3.org/2000/svg", "text");
                tickText.setAttribute('class', 'iq-tick text');
                tickText.setAttribute('y', 20);
                tickText.setAttribute('text-anchor', 'middle');
                tickText.textContent = tickValue;
                tickGroup.appendChild(tickText);
                g.appendChild(tickGroup);
            });

            // 軸標籤
            const axisLabel = document.createElementNS("http://www.w3.org/2000/svg", "text");
            axisLabel.setAttribute('class', 'iq-axis-label');
            axisLabel.setAttribute('text-anchor', 'middle');
            axisLabel.setAttribute('x', width / 2);
            axisLabel.setAttribute('y', height + 40);
            axisLabel.textContent = "IQ 智力商數";
            g.appendChild(axisLabel);

            // 繪製數據點
            allData.forEach(item => {
                const scoreForPlot = item.score_center || item.score;
                const point = document.createElementNS("http://www.w3.org/2000/svg", "circle");
                point.setAttribute('class', 'iq-data-point');
                point.setAttribute('data-name', item.name);
                point.setAttribute('cx', xScale(scoreForPlot));
                point.setAttribute('cy', yScale(normalPDF(scoreForPlot, mean, stdDev)));
                point.setAttribute('r', 7);
                point.setAttribute('fill', item.color);
                // 滑鼠事件 - 立即響應
                point.addEventListener('mouseenter', (e) => {
                    e.stopPropagation();
                    handleHighlight(item.name);
                });

                point.addEventListener('mouseleave', (e) => {
                    e.stopPropagation();
                    clearHighlight();
                });

                // 添加觸控支援
                point.addEventListener('touchstart', (e) => {
                    e.preventDefault();
                    e.stopPropagation();
                    handleHighlight(item.name);
                });

                point.addEventListener('touchend', (e) => {
                    e.preventDefault();
                    e.stopPropagation();
                    // 延遲隱藏，讓用戶有時間看到內容
                    setTimeout(clearHighlight, 2000);
                });
                g.appendChild(point);
            });
        }

        function handleHighlight(name) {
            const dataItem = allData.find(d => d.name === name);
            if (!dataItem) return;

            // 先隱藏之前的工具提示
            tooltip.classList.remove('visible');

            // 淡化其他點
            document.querySelectorAll('.iq-data-point').forEach(el => el.classList.add('dimmed'));

            // 高亮目標點
            const targetPoint = document.querySelector(`.iq-data-point[data-name="${name}"]`);
            if (targetPoint) {
                targetPoint.classList.remove('dimmed');
                targetPoint.classList.add('highlighted');
            }

            // 高亮人類範圍
            if (dataItem.name === '一般人類') {
                document.querySelector('.human-range')?.classList.add('highlighted');
            }

            // 顯示工具提示
            if (targetPoint) {
                tooltip.innerHTML = `
                    <div class="tooltip-title">${dataItem.name}</div>
                    <div class="tooltip-score">IQ: ${dataItem.score}</div>
                `;

                // 取得 SVG 座標系統中的位置
                const cx = parseFloat(targetPoint.getAttribute('cx'));
                const cy = parseFloat(targetPoint.getAttribute('cy'));

                // 取得圖表容器的邊界
                const chartRect = chartContainer.getBoundingClientRect();
                const tooltipWidth = 200; // 最大寬度
                const tooltipHeight = 60; // 預估高度

                // 計算相對於圖表容器的位置
                let tooltipX = cx + 15; // 在點右邊 15px
                let tooltipY = cy;

                // 檢查是否會超出右邊界
                if (tooltipX + tooltipWidth > chartRect.width) {
                    tooltipX = cx - tooltipWidth - 15; // 顯示在左邊
                }

                // 檢查是否會超出上邊界
                if (tooltipY - tooltipHeight/2 < 0) {
                    tooltipY = tooltipHeight/2;
                }

                // 檢查是否會超出下邊界
                if (tooltipY + tooltipHeight/2 > chartRect.height) {
                    tooltipY = chartRect.height - tooltipHeight/2;
                }

                tooltip.style.left = `${tooltipX}px`;
                tooltip.style.top = `${tooltipY}px`;

                // 使用 requestAnimationFrame 確保 DOM 更新後再顯示
                requestAnimationFrame(() => {
                    tooltip.classList.add('visible');
                });
            }
        }

        function clearHighlight() {
            document.querySelectorAll('.dimmed').forEach(el => el.classList.remove('dimmed'));
            document.querySelector('.human-range')?.classList.remove('highlighted');
            document.querySelector('.iq-data-point.highlighted')?.classList.remove('highlighted');
            tooltip.classList.remove('visible');
        }

        // 延遲創建圖表以確保容器已渲染
        setTimeout(() => {
            createChart();
            chartInitialized = true;
        }, 200);
    }
</script>

</body>
</html>
